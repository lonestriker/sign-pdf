<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PDF Signature Tool</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <h1>PDF Signature Tool</h1>

    <div class="upload-section">
        <label for="pdf-upload">1. Upload PDF:</label>
        <input type="file" id="pdf-upload" accept=".pdf">
    </div>

    <div class="upload-section">
        <label for="signature-upload">2. Upload Signature(s) (PNG, JPG, GIF):</label>
        <input type="file" id="signature-upload" accept="image/png, image/jpeg, image/gif">
        <div id="signature-gallery">
            <!-- Uploaded signatures will appear here -->
        </div>
    </div>

     <div id="pdf-viewer-container">
        <h2>3. Place & Resize Signature(s) on PDF</h2>
        <div id="controls">
            <button id="prev-page" disabled>< Prev</button>
            <span>Page: <span id="page-num">0</span> / <span id="page-count">0</span></span>
            <button id="next-page" disabled>Next ></button>
        </div>
        <div id="viewer" class="pdfViewer">
             <!-- Canvas will be dynamically added here -->
             <!-- Signature container for dragging and resizing -->
             <div id="signatureBox" style="display: none;">
                 <img id="signatureImage" src="#" alt="Active Signature" draggable="true"/>
                 <!-- Resize Handles -->
                 <div class="resize-handle top-left"></div>
                 <div class="resize-handle top-right"></div>
                 <div class="resize-handle bottom-left"></div>
                 <div class="resize-handle bottom-right"></div>
                 <!-- Add edge handles if desired -->
                 <!-- <div class="resize-handle top"></div> -->
                 <!-- <div class="resize-handle bottom"></div> -->
                 <!-- <div class="resize-handle left"></div> -->
                 <!-- <div class="resize-handle right"></div> -->
             </div>
        </div>
        <p>Select a signature from the gallery below, drag it onto the PDF, and resize using the handles. Then click "Add This Signature".</p>
        <button id="add-signature-btn" disabled>Add This Signature to Document</button>
         <div id="placement-summary">
             <h4>Signatures Added:</h4>
             <ul id="placed-signatures-list">
                 <!-- List of placed signatures will appear here -->
             </ul>
         </div>
    </div>


    <div class="action-section">
        <button id="generate-button" disabled>4. Generate Signed PDF</button>
        <p id="status"></p>
    </div>

    <script type="module" src="{{ url_for('static', filename='js/script.js') }}"></script>
</body>
</html>